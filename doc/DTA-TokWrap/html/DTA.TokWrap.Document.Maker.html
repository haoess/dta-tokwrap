<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>DTA::TokWrap::Document::Maker - DTA tokenizer wrappers: document wrapper: make-mode</title>
<link rel="stylesheet" href="dtatw.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" valign="middle">
<big><strong><span class="block">&nbsp;DTA::TokWrap::Document::Maker - DTA tokenizer wrappers: document wrapper: make-mode</span></strong></big>
</td></tr>
</table>


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#globals">Globals</a></li>
		<li><a href="#constructors_etc_">Constructors etc.</a></li>
		<li><a href="#methods__make_mode__dependency_tracking">Methods: make Mode: Dependency Tracking</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT AND LICENSE</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>DTA::TokWrap::Document::Maker - DTA tokenizer wrappers: document wrapper: make-mode</p>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 use DTA::TokWrap::Document::Maker;
 
 $doc = DTA::TokWrap::Document::Maker-&gt;new(%opts);
 $doc-&gt;makeKey($key);
 
 ##-- ... any other DTA::TokWrap::Document method ...</pre>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>DTA::TokWrap::Document::Maker provides an experimental
<a href="DTA.TokWrap.Document.html">DTA::TokWrap::Document</a>
subclass which attempts to perform <code>make</code>-like dependency
tracking on document data keys.</p>
<p>
</p>
<h2><a name="globals">Globals</a></h2>
<dl>
<dt><strong><a name="_isa" class="item">@ISA</a></strong></dt>

<dd>
<p>DTA::TokWrap::Document::Maker
inherits from
<a href="DTA.TokWrap.Document.html">DTA::TokWrap::Document</a>,
and should support all DTA::TokWrap::Document methods.</p>
</dd>
</dl>
<p>
</p>
<h2><a name="constructors_etc_">Constructors etc.</a></h2>
<dl>
<dt><strong><a name="new" class="item">new</a></strong></dt>

<dd>
<pre>
 $doc = $CLASS_OR_OBJECT-&gt;new(%args);</pre>
<p>Low-level constructor for make-mode document wrapper object.
See <a href="DTA.TokWrap.Document.html#new">DTA::TokWrap::Document::new</a>.</p>
</dd>
<dt><strong><a name="defaults" class="item">defaults</a></strong></dt>

<dd>
<pre>
 %defaults = CLASS-&gt;defaults();</pre>
<p>Static class-dependent defaults.</p>
</dd>
<dt><strong><a name="init" class="item">init</a></strong></dt>

<dd>
<pre>
 $doc = $doc-&gt;init();</pre>
<p>Dynamic object-dependent defaults.</p>
</dd>
</dl>
<p>
</p>
<h2><a name="methods__make_mode__dependency_tracking">Methods: make Mode: Dependency Tracking</a></h2>
<dl>
<dt><strong><a name="variable_keygen" class="item">Variable: %KEYGEN</a></strong></dt>

<dd>
<p>%KEYGEN = ($dataKey =&gt; $generatorSpec, ...)</p>
<p>See <a href="DTA.TokWrap.Document.html#_keygen">%DTA::TokWrap::Document::KEYGEN</a>.</p>
</dd>
<dt><strong><a name="_keydeps" class="item">%KEYDEPS</a></strong></dt>

<dd>
<pre>
 %KEYDEPS = ($dataKey =&gt; \@depsForKey, ...)</pre>
<p>Recursive key dependencies.</p>
</dd>
<dt><strong><a name="_keydeps_0" class="item">%KEYDEPS_0</a></strong></dt>

<dd>
<pre>
 %KEYDEPS_0 = ($dataKey =&gt; \@immediateDepsForKey, ...)</pre>
<p>Immediate key dependencies.</p>
</dd>
<dt><strong><a name="_keydeps_h" class="item">%KEYDEPS_H</a></strong></dt>

<dd>
<pre>
 %KEYDEPS_0 = ($dataKey =&gt; {$dep1=&gt;undef,$dep2=&gt;undef,...}, ...)</pre>
<p>Recursive dependencies as a hash-of-hashes.</p>
</dd>
<dt><strong><a name="keycmp" class="item">keycmp</a></strong></dt>

<dd>
<pre>
 $cmp = DTA::ToKWrap::Document::Maker::keycmp($a,$b);</pre>
<p>Sort comparison function for data keys.</p>
</dd>
<dt><strong><a name="uniqkeys" class="item">uniqKeys</a></strong></dt>

<dd>
<pre>
 @uniqKeys = uniqKeys(@keys);</pre>
<p>Returns unique keys from @keys.</p>
</dd>
<dt><strong><a name="keydeps0" class="item">keyDeps0</a></strong></dt>

<dd>
<pre>
 @deps0 = PACKAGE::keyDeps0(@docKeys);</pre>
<p>Returns unique immediate dependencies for @docKeys.</p>
</dd>
<dt><strong><a name="keydeps" class="item">keyDeps</a></strong></dt>

<dd>
<pre>
 @deps = PACKAGE::keyDeps(@docKeys);</pre>
<p>Returns unique recursive dependencies for @docKeys.</p>
</dd>
<dt><strong><a name="keystamp" class="item">keyStamp</a></strong></dt>

<dd>
<pre>
 $floating_secs_or_undef = $doc-&gt;keyStamp($key);</pre>
<p>Returns $doc-&gt;{&quot;${key}_stamp&quot;} if it exists.
Otherwise returns file modification time for file keys.
Returned value is (floating point) seconds since epoch.</p>
</dd>
<dt><strong><a name="keynewerdeps" class="item">keyNewerDeps</a></strong></dt>

<dd>
<pre>
 @newerDeps = $doc-&gt;keyNewerDeps($key);
 @newerDeps = $doc-&gt;keyNewerDeps($key, $missingDepsAreNewer)</pre>
<p>Returns list of recursive dependencies for $key which are
newer than $key itself.  If $missingDepsAreNewer is given
and true, missing dependencies are not allowed.</p>
</dd>
<dt><strong><a name="keyiscurrent" class="item">keyIsCurrent</a></strong></dt>

<dd>
<pre>
 $bool = $doc-&gt;keyIsCurrent($key);
 $bool = $doc-&gt;keyIsCurrent($key, $requireMissingDeps)</pre>
<p>Returns true iff $key is at least as new as all its
dependencies.</p>
<p>If $requireMissingDeps is true, missing dependencies
are treated as infinitely new (function returns false).</p>
</dd>
<dt><strong><a name="genkey" class="item">genKey</a></strong></dt>

<dd>
<pre>
 $bool = $doc-&gt;genKey($key);
 $bool = $doc-&gt;genKey($key,\%KEYGEN)</pre>
<p>Unconditionally (re-)generate a data key (single step only,
ignoring dependencies).</p>
<p>Passes on local \%KEYGEN.</p>
</dd>
<dt><strong><a name="makekey" class="item">makeKey</a></strong></dt>

<dd>
<pre>
 $bool = $doc-&gt;makeKey($key);
 $bool = $doc-&gt;makeKey($key,\%queued)</pre>
<p>Conditionally (re-)generate a data key, checking dependencies.</p>
</dd>
<dt><strong><a name="makeall" class="item">makeAll</a></strong></dt>

<dd>
<pre>
 $bool = $doc-&gt;makeAll();</pre>
<p>Alias for $doc-&gt;makeKey('all').</p>
</dd>
<dt><strong><a name="forcestale" class="item">forceStale</a></strong></dt>

<dd>
<pre>
 undef = $doc-&gt;forceStale(@keys);</pre>
<p>Forces all keys @keys to be considered stale by setting $doc-&gt;{&quot;${key}_stamp&quot;}=-$ix,
where $ix is the index of $key in the dependency-sorted list.</p>
<p>You can use the $doc-&gt;<a href="#keydeps"><code>keyDeps()</code></a> method to get a list of all dependencies.
In particular, using $doc-&gt;keyDeps('all') should mark all keys as stale</p>
</dd>
<dt><strong><a name="remakekey" class="item">remakeKey</a></strong></dt>

<dd>
<pre>
 $keyval_or_undef = $doc-&gt;remakeKey($key);</pre>
<p>Unconditionally (re-)generate a data key and all its dependencies.</p>
</dd>
</dl>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="DTA.TokWrap.Intro.html">DTA::TokWrap::Intro(3pm)</a>,
<a href="dta-tokwrap.perl.html">dta-tokwrap.perl(1)</a>,
...</p>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="DTA.TokWrap.Intro.html">DTA::TokWrap::Intro(3pm)</a>,
<a href="dta-tokwrap.perl.html">dta-tokwrap.perl(1)</a>,
...</p>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Bryan Jurish &lt;<a href="mailto:jurish@bbaw.de">jurish@bbaw.de</a>&gt;</p>
<p>
<a href="#__index__"><small>(Back to Top)</small></a>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT AND LICENSE</a></h1>
<p>Copyright (C) 2009-2014 by Bryan Jurish</p>
<p>This package is free software; you can redistribute it and/or modify
it under the same terms as Perl itself, either Perl version 5.14.2 or,
at your option, any later version of Perl 5 you may have available.</p>
<p><a href="#__index__"><small>(Back to Top)</small></a></p>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" valign="middle">
<big><strong><span class="block">&nbsp;DTA::TokWrap::Document::Maker - DTA tokenizer wrappers: document wrapper: make-mode</span></strong></big>
</td></tr>
</table>

</body>

</html>
