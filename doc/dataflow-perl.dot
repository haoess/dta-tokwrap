/* -*- Mode: C -*- */
digraph dataflow {
  node [shape=rectangle,height=0.25,fontname="Courier"];
  edge [decorate=0,fontname="Courier"];

  xml [label="xmlfile: *.xml",shape=rectangle,style=filled,fillcolor=grey90];

  mkindex [label="DTA::TokWrap::mkindex",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold"];
  xml -> mkindex;

  cxfile [label="cxfile: *.cx",shape=rectangle,style=filled,fillcolor=grey90];
  sxfile [label="sxfile: *.sx",shape=rectangle,style=filled,fillcolor=grey90];
  txfile [label="txfile: *.tx",shape=rectangle,style=filled,fillcolor=grey90];
  mkindex -> cxfile;
  mkindex -> sxfile;
  mkindex -> txfile;
  {rank=same; cxfile sxfile txfile}

  cxdata [label="cxdata"];
  cxfile -> cxdata;

  bx0doc [label="bx0doc"];
  mkbx0 [label="DTA::TokWrap::mkbx0",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold"];
  sxfile -> mkbx0;
  mkbx0 -> bx0doc;

  bxdata [label="bxdata"];
  mkbx [label="DTA::TokWrap::mkbx",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold"];
  bx0doc -> mkbx;
  txfile -> mkbx;
  mkbx -> bxdata;
  //{rank=same; bxdata txtfile;}
  //{rank=same; mkbx bxfile;}

  bxfile [label="bxfile: *.bx",shape=rectangle,style=filled,fillcolor=grey90];
  txtfile [label="txtfile: *.txt",shape=rectangle,style=filled,fillcolor=grey90];
  bxdata -> bxfile;
  bxdata -> txtfile;
  //{rank=same; bxfile txtfile}

  tokdata [label="tokdata"];
  tokenize [label="DTA::TokWrap::tokenize(::dummy)",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold",justify="left"];
  txtfile -> tokenize;
  tokenize -> tokdata;

  tokfile [label="tokfile: *.t",shape=rectangle,style=filled,fillcolor=grey90];
  tokdata -> tokfile;
  //{rank=same; tokdata tokfile;}

  xtokdata [label="xtokdata"];
  xtokfile [label="xtokfile: *.t.xml",shape=rectangle,style=filled,fillcolor=grey90];
  xtokdoc  [label="xtokdoc"];
  xtokdata -> xtokfile;
  xtokdata -> xtokdoc;
  //{rank=same; xtokdata xtokfile;}

  tok2xml [label="DTA::TokWrap::tok2xml",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold"];
  tokdata -> tok2xml;
  bxdata  -> tok2xml;
  cxdata  -> tok2xml;
  tok2xml -> xtokdata;
  {rank=same; cxdata tokdata};

  standoff [label="DTA::TokWrap::standoff",shape=rectangle,style=filled,fillcolor=PaleGreen,fontname="Courier-Bold"];
  xtokdoc -> standoff;

  sowdoc [label="sowdoc"];
  standoff -> sowdoc;
  sowfile [label="sowfile: *.w.xml",shape=rectangle,style=filled,fillcolor=grey90];
  sowdoc -> sowfile;
  
  sosdoc [label="sosdoc"];
  standoff -> sosdoc;
  sosfile [label="sosfile: *.s.xml",shape=rectangle,style=filled,fillcolor=grey90];
  sosdoc -> sosfile;

  soadoc [label="soadoc"];
  standoff -> soadoc;
  soafile [label="soafile: *.a.xml",shape=rectangle,style=filled,fillcolor=grey90];
  soadoc -> soafile;
}
