#*- Mode: Org; coding: utf-8;: -*-
#
#+STARTUP: showall
#+STARTUP: logdone
#-STARTUP: hideblocks

* Old structure
 - dta-tokwrap (autoconf)
   - src (autoconf+C)
   - DTA-TokWrap (perl)
   - scripts (autoconf+data)
   - doc (autoconf + automake + scripts)
   - make (data)
   - examples (data)

* Desiderata
 - CPAN-friendly top-level
   - either build & install C from CPAN distro, or use additional Alien package
 - dstar-deps friendly
 - one-stop-shopping (dstar-deps friendly)

* Idea #0: weiter wis bisher

 - dta-tokwrap structure as before

** Idea #0a: dummy Makefile.PL
 - add a Makefile.PL in the root directory which just calls ./configure
   - Makefile is generated by autoconf
   - simulate Makefile.PL targets used by perl (cpan smokers) via autoconf/automake

** Idea #0b: 
 
* Idea #1: binary split
 - dta-tokwrap (via Makefile.PL?)
   - DTA-TokWrap (perl)
   - dta-tokwrap-utils (autoconf+C)
   - scripts
   - doc (autoconf)
   - make
   - examples

** issues
 - [ ] autoconf stuff in configure.ac would need to be ported to Makefile.PL
   - [ ] svnversion and Version.pm generation (maybe gank from CAB)
   - [ ] auxiliary install directories for (stylesheets, make, doc)
   - [ ] doc generation links & rules
     - this stuff *could* be ported to Makefile.PL, but that seems like overkill
     - CPAN-based installations don't really *need* the docs
 - [ ] embedded options: how do we get embedded options to utils/configure from top Makefile.PL?
   - ARGV ?
   - ENV ?
 - [ ] embedded defaults: how do we pass down default options to utils/configure from top Makefile.PL?
   - or do we bother doing that at all?

* Idea #1: ternary split

 - dta-tokwrap (via Makefile.PL?)
   - DTA-TokWrap (perl)
   - dta-tokwrap-utils (autoconf+C)
   - dta-tokwrap-aux (data only: Makefile.PL or autoconf)
     - scripts
     - make
     - examples
   - dta-tokwrap-doc (autoconf+...)
     - doc


* TODOs

** TODO update utils/README

